{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { ConfirmationDeletionDialogComponent } from '../list-classes/confirmation-deletion-dialog/confirmation-deletion-dialog.component';\nimport { setTodayCourses } from '../store/current-session.actions';\nimport { selectTodayCourses } from '../store/current-session.reducer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../course.service\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/list\";\nfunction TodayClassesComponent_ng_container_3_a_3_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1, \"Cours du week end\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/detail-class\", a1];\n};\nfunction TodayClassesComponent_ng_container_3_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 6)(1, \"div\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, TodayClassesComponent_ng_container_3_a_3_span_3_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TodayClassesComponent_ng_container_3_a_3_Template_button_click_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const course_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.openDialog($event, \"deleteCourse\", course_r5));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"remove_circle_outline\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const course_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, course_r5._id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", course_r5.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", course_r5.isFromWE);\n  }\n}\nfunction TodayClassesComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-nav-list\", 3, 4);\n    i0.ɵɵlistener(\"selectionChange\", function TodayClassesComponent_ng_container_3_Template_mat_nav_list_selectionChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const _r3 = i0.ɵɵreference(2);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onSelection($event, _r3));\n    });\n    i0.ɵɵtemplate(3, TodayClassesComponent_ng_container_3_a_3_Template, 7, 5, \"a\", 5);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 2, ctx_r0.list$))(\"ngForTrackBy\", ctx_r0.trackByMethod);\n  }\n}\nfunction TodayClassesComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Pas encore de cours \\u00E0 reviser\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let TodayClassesComponent = /*#__PURE__*/(() => {\n  var _class;\n  class TodayClassesComponent {\n    constructor(dialog, courseService, store) {\n      this.dialog = dialog;\n      this.courseService = courseService;\n      this.store = store;\n    }\n    ngOnInit() {\n      this.fetchData();\n      this.list$ = this.store.pipe(select(selectTodayCourses));\n    }\n    deleteCourse(course) {\n      this.courseService.postTodayClasses({\n        course\n      }).subscribe(() => {\n        this.fetchData();\n      });\n    }\n    trackByMethod(index, el) {\n      return el._id;\n    }\n    openDialog($event, dialog, course) {\n      $event.stopPropagation();\n      $event.preventDefault();\n      if (dialog === 'deleteCourse') {\n        const daySchedulerDialogRef = this.dialog.open(ConfirmationDeletionDialogComponent, {\n          data: {\n            title: 'Avez-vous révisé ce cours ?'\n          }\n        });\n        daySchedulerDialogRef.afterClosed().subscribe(result => {\n          if (result) {\n            this.deleteCourse(course);\n          }\n        });\n      }\n    }\n    fetchData() {\n      this.courseService.getTodayClasses().subscribe(todayCourses => {\n        this.store.dispatch(setTodayCourses({\n          todayCourses\n        }));\n      });\n    }\n  }\n  _class = TodayClassesComponent;\n  _class.ɵfac = function TodayClassesComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.CourseService), i0.ɵɵdirectiveInject(i3.Store));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-today-classes\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[\"mat-icon-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Home button\", \"routerLink\", \"/home\", 1, \"fab-btn-back-button\"], [4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [3, \"selectionChange\"], [\"courses\", \"\"], [\"mat-list-item\", \"\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"mat-list-item\", \"\", 3, \"routerLink\"], [1, \"course-name\"], [\"class\", \"is-from-we\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Delete courses button\", 1, \"delete-button\", 3, \"click\"], [1, \"is-from-we\"], [1, \"empty-section\"], [\"src\", \"assets/no-data.svg\", 1, \"illustration\"]],\n    template: function TodayClassesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0)(1, \"mat-icon\");\n        i0.ɵɵtext(2, \"keyboard_arrow_left\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, TodayClassesComponent_ng_container_3_Template, 5, 4, \"ng-container\", 1);\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵtemplate(5, TodayClassesComponent_ng_template_5_Template, 4, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(6);\n        let tmp_0_0;\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(4, 2, ctx.list$)) == null ? null : tmp_0_0.length)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i4.RouterLink, i5.NgForOf, i5.NgIf, i6.MatIconButton, i7.MatIcon, i8.MatNavList, i8.MatListItem, i5.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]   .empty-section[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .illustration[_ngcontent-%COMP%]{display:block;height:200px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#fff}[_nghost-%COMP%]   .course-name[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .is-from-we[_ngcontent-%COMP%]{font-size:.875em;color:#c2185b}[_nghost-%COMP%]   .delete-button[_ngcontent-%COMP%]{position:absolute;right:1em;color:#c2185b}[_nghost-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{color:#fff}\"]\n  });\n  return TodayClassesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}