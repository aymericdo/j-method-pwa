{"ast":null,"code":"import { combineLatest, forkJoin, interval, ReplaySubject } from 'rxjs';\nimport { ConfirmationSignoutDialogComponent } from './confirmation-signout-dialog/confirmation-signout-dialog.component';\nimport { RushDialogComponent } from './rush-dialog/rush-dialog.component';\nimport { WeekendDialogComponent } from './weekend-dialog/weekend-dialog.component';\nimport { DaySchedulerDialogComponent } from './day-scheduler-dialog/day-scheduler-dialog.component';\nimport { selectNotifications, selectCourses, selectSelectedCourses, selectRush, selectLoadingRush, selectLoadingSetting, selectTodayCourses, selectCoursesFilter } from '../store/current-session.reducer';\nimport { select } from '@ngrx/store';\nimport { setNotifications, setCourses, setSelectedCourses, setRush, setLoadingRush, setLoadingSetting, setTodayCourses, setCoursesFilter } from '../store/current-session.actions';\nimport { debounce, filter, take, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { ConfirmationDeletionDialogComponent } from './confirmation-deletion-dialog/confirmation-deletion-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../course.service\";\nimport * as i3 from \"../notification.service\";\nimport * as i4 from \"../setting.service\";\nimport * as i5 from \"../rush.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@ngrx/store\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/badge\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/checkbox\";\nimport * as i12 from \"@angular/material/form-field\";\nimport * as i13 from \"@angular/material/icon\";\nimport * as i14 from \"@angular/material/input\";\nimport * as i15 from \"@angular/material/list\";\nimport * as i16 from \"@angular/material/menu\";\nimport * as i17 from \"@angular/material/progress-spinner\";\nimport * as i18 from \"@angular/material/toolbar\";\nimport * as i19 from \"../shared/speed-dial-fab/speed-dial-fab.component\";\nfunction ListClassesComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.unselectAll());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"keyboard_arrow_left\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListClassesComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 22);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"innerHTML\", \"(v2.0.5)\", i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ListClassesComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.openDialog(\"deleteCourse\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListClassesComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.openDialog(\"scheduler\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"alarm_add\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/detail-class\", a1];\n};\nfunction ListClassesComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"keyboard_arrow_right\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, i0.ɵɵpipeBind1(1, 1, ctx_r4.selected$)[0]._id));\n  }\n}\nfunction ListClassesComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.refresh());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"refresh\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListClassesComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"settings\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(1, 1, ctx_r6.selectLoadingSetting$));\n  }\n}\nfunction ListClassesComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 28)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"more_vert\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r8 = i0.ɵɵreference(23);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r8);\n  }\n}\nfunction ListClassesComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelement(1, \"mat-progress-spinner\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListClassesComponent_mat_icon_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"search\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListClassesComponent_mat_icon_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-icon\", 31);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_mat_icon_35_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.resetCoursesFilter());\n    });\n    i0.ɵɵtext(1, \"search_off\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 42);\n    i0.ɵɵtext(1, \" cours \\u00E0 r\\u00E9viser aujourd'hui ! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtext(1, \" d\\u00E9j\\u00E0 fait bg \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-option\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_span_2_Template, 2, 0, \"span\", 40);\n    i0.ɵɵtemplate(3, ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_span_3_Template, 2, 0, \"span\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r31 = ctx.$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"value\", course_r31)(\"selected\", ctx_r30.isSelected(course_r31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", course_r31.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.isADayRevision(course_r31) && !ctx_r30.isAlreadyRevise(course_r31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.isADayRevision(course_r31) && ctx_r30.isAlreadyRevise(course_r31));\n  }\n}\nfunction ListClassesComponent_ng_container_37_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 34)(2, \"mat-checkbox\", 35);\n    i0.ɵɵlistener(\"change\", function ListClassesComponent_ng_container_37_ng_container_1_Template_mat_checkbox_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.setAll($event.checked));\n    });\n    i0.ɵɵtext(3, \" Tous les cours \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-selection-list\", 36, 37);\n    i0.ɵɵlistener(\"selectionChange\", function ListClassesComponent_ng_container_37_ng_container_1_Template_mat_selection_list_selectionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const _r29 = i0.ɵɵreference(5);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.onSelection($event, _r29));\n    });\n    i0.ɵɵtemplate(6, ListClassesComponent_ng_container_37_ng_container_1_mat_list_option_6_Template, 4, 5, \"mat-list-option\", 38);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r26.allComplete)(\"indeterminate\", ctx_r26.isIndeterminate)(\"labelPosition\", \"before\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 5, ctx_r26.list$))(\"ngForTrackBy\", ctx_r26.trackByMethod);\n  }\n}\nfunction ListClassesComponent_ng_container_37_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelement(1, \"img\", 45);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Pas encore de cours enregistr\\u00E9\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListClassesComponent_ng_container_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ListClassesComponent_ng_container_37_ng_container_1_Template, 8, 7, \"ng-container\", 32);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, ListClassesComponent_ng_container_37_ng_template_3_Template, 4, 0, \"ng-template\", null, 33, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r27 = i0.ɵɵreference(4);\n    const ctx_r12 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(2, 2, ctx_r12.list$)) == null ? null : tmp_0_0.length)(\"ngIfElse\", _r27);\n  }\n}\nfunction ListClassesComponent_button_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 46)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"alarm_add\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ListClassesComponent_button_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ListClassesComponent_button_40_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.openDialog(\"deleteRush\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"shutter_speed\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r14.deletingRush);\n  }\n}\nfunction ListClassesComponent_app_speed_dial_fab_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-speed-dial-fab\", 48);\n    i0.ɵɵlistener(\"redirect\", function ListClassesComponent_app_speed_dial_fab_43_Template_app_speed_dial_fab_redirect_0_listener($event) {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.navigateTo($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"mainButtonIcon\", \"donut_large\")(\"fabButtons\", ctx_r15.fabButtons);\n  }\n}\nexport let ListClassesComponent = /*#__PURE__*/(() => {\n  var _class;\n  class ListClassesComponent {\n    constructor(dialog, courseService, notificationService, settingService, rushService, router, store) {\n      this.dialog = dialog;\n      this.courseService = courseService;\n      this.notificationService = notificationService;\n      this.settingService = settingService;\n      this.rushService = rushService;\n      this.router = router;\n      this.store = store;\n      this.deletingRush = false;\n      this.fetching = true;\n      this.fabButtons = [{\n        id: 0,\n        name: 'add',\n        icon: 'add',\n        disabled: false\n      }, {\n        id: 1,\n        name: 'today',\n        icon: 'today',\n        disabled: false\n      }, {\n        id: 2,\n        name: 'rush',\n        icon: 'shutter_speed',\n        disabled: false\n      }, {\n        id: 3,\n        name: 'weekend',\n        icon: 'next_week',\n        disabled: false\n      }];\n      this.isIndeterminate = false;\n      this.allComplete = false;\n      this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n      this.list$ = this.store.pipe(select(selectCourses));\n      this.notifications$ = this.store.pipe(select(selectNotifications));\n      this.selected$ = this.store.pipe(select(selectSelectedCourses));\n      this.rush$ = this.store.pipe(select(selectRush));\n      this.selectLoadingRush$ = this.store.pipe(select(selectLoadingRush));\n      this.selectLoadingSetting$ = this.store.pipe(select(selectLoadingSetting));\n      this.listTodayClasses$ = this.store.pipe(select(selectTodayCourses));\n      this.coursesFilter$ = this.store.pipe(select(selectCoursesFilter));\n      this.coursesFilter$.pipe(debounce(() => interval(300)), filter(courseFilter => courseFilter.length > 2 || !courseFilter.length), takeUntil(this.destroyed$)).subscribe(courseFilter => {\n        if (!courseFilter.length) {\n          this.courseService.getCourses().subscribe(courses => {\n            this.store.dispatch(setCourses({\n              courses\n            }));\n          });\n        } else {\n          this.courseService.getCoursesWithFilter(courseFilter).subscribe(courses => {\n            this.store.dispatch(setCourses({\n              courses\n            }));\n          });\n        }\n      });\n      this.listTodayClasses$.pipe(takeUntil(this.destroyed$)).subscribe(listTodayClasses => {\n        this.listTodayClasses = listTodayClasses;\n      });\n      this.selected$.pipe(withLatestFrom(this.list$), takeUntil(this.destroyed$)).subscribe(([selected, list]) => {\n        if (selected.length) {\n          this.allComplete = selected.length === list.length;\n          this.isIndeterminate = !this.allComplete;\n        } else {\n          this.allComplete = false;\n          this.isIndeterminate = false;\n        }\n      });\n      combineLatest([this.rush$, this.selectLoadingRush$]).pipe(takeUntil(this.destroyed$)).subscribe(([rush, loading]) => {\n        this.fabButtons = this.fabButtons.map(btn => btn.name === 'rush' ? {\n          ...btn,\n          disabled: !!rush || loading\n        } : {\n          ...btn\n        });\n      });\n      this.fetchEverything();\n    }\n    setAll(completed) {\n      this.allComplete = completed;\n      let currentList = [];\n      this.list$.pipe(take(1)).subscribe(list => currentList = list);\n      if (completed) {\n        this.store.dispatch(setSelectedCourses({\n          selectedCourses: currentList\n        }));\n      } else {\n        this.store.dispatch(setSelectedCourses({\n          selectedCourses: []\n        }));\n      }\n    }\n    ngOnDestroy() {\n      this.destroyed$.next(true);\n      this.destroyed$.complete();\n    }\n    openDialog(dialog) {\n      if (dialog === 'scheduler') {\n        let selected = [];\n        this.store.pipe(select(selectSelectedCourses), take(1)).subscribe(sltd => selected = sltd);\n        const daySchedulerDialogRef = this.dialog.open(DaySchedulerDialogComponent, {\n          height: '400px',\n          width: '600px',\n          data: {\n            selected\n          }\n        });\n        daySchedulerDialogRef.afterClosed().subscribe(result => {\n          if (result) {\n            this.notificationService.addNotifications(result).subscribe(() => {\n              this.unselectAll();\n              this.router.navigate(['/daily-schedule']);\n            });\n          }\n        });\n      } else if (dialog === 'rush') {\n        this.dialog.open(RushDialogComponent);\n      } else if (dialog === 'deleteRush') {\n        const daySchedulerDialogRef = this.dialog.open(ConfirmationDeletionDialogComponent, {\n          data: {\n            title: 'Voulez-vous vraiment supprimer le rush ?'\n          }\n        });\n        daySchedulerDialogRef.afterClosed().subscribe(result => {\n          if (result) {\n            this.deleteRush();\n          }\n        });\n      } else if (dialog === 'weekend') {\n        this.dialog.open(WeekendDialogComponent);\n      } else if (dialog === 'deleteCourse') {\n        const daySchedulerDialogRef = this.dialog.open(ConfirmationDeletionDialogComponent, {\n          data: {\n            title: 'Voulez-vous vraiment supprimer le cours ?'\n          }\n        });\n        daySchedulerDialogRef.afterClosed().subscribe(result => {\n          if (result) {\n            this.removeCourses();\n          }\n        });\n      } else {\n        this.dialog.open(ConfirmationSignoutDialogComponent);\n      }\n    }\n    refresh() {\n      this.fetchEverything();\n    }\n    onSelection(event, courses) {\n      this.store.dispatch(setSelectedCourses({\n        selectedCourses: courses.selectedOptions.selected.map(s => s.value)\n      }));\n    }\n    filterCourses(event) {\n      this.store.dispatch(setCoursesFilter({\n        coursesFilter: event\n      }));\n    }\n    resetCoursesFilter() {\n      this.store.dispatch(setCoursesFilter({\n        coursesFilter: ''\n      }));\n    }\n    isSelected(course) {\n      let selected = [];\n      this.selected$.pipe(take(1)).subscribe(sltd => selected = sltd);\n      return selected && selected.some(s => s._id === course._id);\n    }\n    isADayRevision(course) {\n      return course.reminders.map(r => moment(r).format('YYYY-MM-DD')).includes(moment().format('YYYY-MM-DD'));\n    }\n    isAlreadyRevise(course) {\n      return !this.listTodayClasses.some(c => c._id === course._id);\n    }\n    unselectAll() {\n      this.store.dispatch(setSelectedCourses({\n        selectedCourses: []\n      }));\n    }\n    removeCourses() {\n      let selected = [];\n      this.selected$.pipe(take(1)).subscribe(sltd => selected = sltd);\n      const deleteSelectedCourses$ = selected.map(s => {\n        return this.courseService.deleteCourse(s);\n      });\n      forkJoin(deleteSelectedCourses$).subscribe(() => {\n        let list = [];\n        this.store.pipe(select(selectCourses), take(1)).subscribe(l => list = l);\n        const newList = list.filter(c => !this.isSelected(c));\n        this.unselectAll();\n        this.store.dispatch(setCourses({\n          courses: newList\n        }));\n      });\n    }\n    deleteRush() {\n      this.deletingRush = true;\n      this.rushService.deleteRush().subscribe(() => {\n        this.deletingRush = false;\n        this.store.dispatch(setLoadingRush({\n          loadingRush: true\n        }));\n      });\n    }\n    navigateTo(id) {\n      switch (id) {\n        case 0:\n          {\n            this.router.navigate(['add-classes']);\n            break;\n          }\n        case 1:\n          {\n            this.router.navigate(['today-classes']);\n            break;\n          }\n        case 2:\n          {\n            this.openDialog('rush');\n            break;\n          }\n        case 3:\n          {\n            this.openDialog('weekend');\n            break;\n          }\n      }\n    }\n    trackByMethod(index, el) {\n      return el._id;\n    }\n    fetchEverything() {\n      this.fetching = true;\n      this.notificationService.getNotifications().subscribe(notifications => {\n        this.store.dispatch(setNotifications({\n          notifications\n        }));\n      });\n      let coursesFilter;\n      this.coursesFilter$.pipe(take(1)).subscribe(c => coursesFilter = c);\n      if (coursesFilter && coursesFilter.length > 2) {\n        this.courseService.getCoursesWithFilter(coursesFilter).subscribe(courses => {\n          this.fetching = false;\n          this.store.dispatch(setCourses({\n            courses\n          }));\n        });\n      } else {\n        this.courseService.getCourses().subscribe(courses => {\n          this.fetching = false;\n          this.store.dispatch(setCourses({\n            courses\n          }));\n        });\n      }\n      this.rushService.getRush().subscribe(({\n        rush,\n        isLoadingRush\n      }) => {\n        this.store.dispatch(setLoadingRush({\n          loadingRush: isLoadingRush\n        }));\n        this.store.dispatch(setRush({\n          rush\n        }));\n      });\n      this.settingService.getSettings().subscribe(({\n        isLoadingSetting\n      }) => {\n        this.store.dispatch(setLoadingSetting({\n          loadingSetting: isLoadingSetting\n        }));\n      });\n      this.courseService.getTodayClasses().subscribe(todayCourses => {\n        this.store.dispatch(setTodayCourses({\n          todayCourses\n        }));\n      });\n    }\n  }\n  _class = ListClassesComponent;\n  _class.ɵfac = function ListClassesComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.CourseService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.SettingService), i0.ɵɵdirectiveInject(i5.RushService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.Store));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-list-classes\"]],\n    decls: 45,\n    vars: 51,\n    consts: [[\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with keyboard_arrow_left icon\", 3, \"click\", 4, \"ngIf\"], [3, \"innerHTML\"], [\"class\", \"version\", 3, \"innerHTML\", 4, \"ngIf\"], [1, \"spacer\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Remove courses button\", 3, \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Schedule courses button\", 3, \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"More info courses button\", 3, \"routerLink\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with refresh icon\", 3, \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with settings icon\", \"routerLink\", \"/settings\", 3, \"disabled\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with more_vert icon\", 3, \"matMenuTriggerFor\", 4, \"ngIf\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", \"aria-label\", \"Sign out button\", 3, \"click\"], [\"class\", \"progress-spinner\", 4, \"ngIf\"], [1, \"input-search\"], [\"type\", \"text\", \"matInput\", \"\", \"autocomplete\", \"off\", \"placeholder\", \"ton cours\", 3, \"value\", \"input\"], [\"matSuffix\", \"\"], [4, \"ngIf\"], [\"class\", \"search-off-btn\", 3, \"click\", 4, \"ngIf\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", \"class\", \"fab-btn-daily-schedule -blinking\", \"aria-label\", \"Go notifications button\", \"routerLink\", \"/daily-schedule\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"class\", \"fab-btn-rush -blinking\", \"aria-label\", \"Cancel rush\", \"matBadge\", \"x\", \"matBadgeOverlap\", \"true\", \"matBadgeColor\", \"accent\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"aria-label\", \"Opt courses button\", 3, \"mainButtonIcon\", \"fabButtons\", \"redirect\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with keyboard_arrow_left icon\", 3, \"click\"], [1, \"version\", 3, \"innerHTML\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Remove courses button\", 3, \"click\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Schedule courses button\", 3, \"click\"], [\"mat-icon-button\", \"\", \"aria-label\", \"More info courses button\", 3, \"routerLink\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with refresh icon\", 3, \"click\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with settings icon\", \"routerLink\", \"/settings\", 3, \"disabled\"], [\"mat-icon-button\", \"\", \"aria-label\", \"icon-button with more_vert icon\", 3, \"matMenuTriggerFor\"], [1, \"progress-spinner\"], [\"color\", \"primary\", \"mode\", \"indeterminate\"], [1, \"search-off-btn\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [1, \"all-checkbox-section\"], [1, \"all-checkbox\", 3, \"checked\", \"indeterminate\", \"labelPosition\", \"change\"], [3, \"selectionChange\"], [\"courses\", \"\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"value\", \"selected\"], [\"class\", \"revision-day\", 4, \"ngIf\"], [\"class\", \"revision-day -is-already-revise\", 4, \"ngIf\"], [1, \"revision-day\"], [1, \"revision-day\", \"-is-already-revise\"], [1, \"empty-section\"], [\"src\", \"assets/no-data.svg\", 1, \"illustration\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", \"aria-label\", \"Go notifications button\", \"routerLink\", \"/daily-schedule\", 1, \"fab-btn-daily-schedule\", \"-blinking\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Cancel rush\", \"matBadge\", \"x\", \"matBadgeOverlap\", \"true\", \"matBadgeColor\", \"accent\", 1, \"fab-btn-rush\", \"-blinking\", 3, \"disabled\", \"click\"], [\"aria-label\", \"Opt courses button\", 3, \"mainButtonIcon\", \"fabButtons\", \"redirect\"]],\n    template: function ListClassesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\")(1, \"mat-toolbar\");\n        i0.ɵɵtemplate(2, ListClassesComponent_button_2_Template, 3, 0, \"button\", 0);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelement(4, \"span\", 1);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵpipe(6, \"async\");\n        i0.ɵɵtemplate(7, ListClassesComponent_span_7_Template, 1, 1, \"span\", 2);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelement(9, \"span\", 3);\n        i0.ɵɵtemplate(10, ListClassesComponent_button_10_Template, 3, 0, \"button\", 4);\n        i0.ɵɵpipe(11, \"async\");\n        i0.ɵɵtemplate(12, ListClassesComponent_button_12_Template, 3, 0, \"button\", 5);\n        i0.ɵɵpipe(13, \"async\");\n        i0.ɵɵtemplate(14, ListClassesComponent_button_14_Template, 4, 5, \"button\", 6);\n        i0.ɵɵpipe(15, \"async\");\n        i0.ɵɵtemplate(16, ListClassesComponent_button_16_Template, 3, 0, \"button\", 7);\n        i0.ɵɵpipe(17, \"async\");\n        i0.ɵɵtemplate(18, ListClassesComponent_button_18_Template, 4, 3, \"button\", 8);\n        i0.ɵɵpipe(19, \"async\");\n        i0.ɵɵtemplate(20, ListClassesComponent_button_20_Template, 3, 1, \"button\", 9);\n        i0.ɵɵpipe(21, \"async\");\n        i0.ɵɵelementStart(22, \"mat-menu\", null, 10)(24, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function ListClassesComponent_Template_button_click_24_listener() {\n          return ctx.openDialog(\"signout\");\n        });\n        i0.ɵɵtext(25, \"D\\u00E9connexion\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(26, ListClassesComponent_div_26_Template, 2, 0, \"div\", 12);\n        i0.ɵɵelementStart(27, \"mat-form-field\", 13)(28, \"mat-label\");\n        i0.ɵɵtext(29, \"Recherche\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"input\", 14);\n        i0.ɵɵlistener(\"input\", function ListClassesComponent_Template_input_input_30_listener($event) {\n          return ctx.filterCourses($event.target.value);\n        });\n        i0.ɵɵpipe(31, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-icon\", 15);\n        i0.ɵɵtemplate(33, ListClassesComponent_mat_icon_33_Template, 2, 0, \"mat-icon\", 16);\n        i0.ɵɵpipe(34, \"async\");\n        i0.ɵɵtemplate(35, ListClassesComponent_mat_icon_35_Template, 2, 0, \"mat-icon\", 17);\n        i0.ɵɵpipe(36, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(37, ListClassesComponent_ng_container_37_Template, 5, 4, \"ng-container\", 16);\n        i0.ɵɵtemplate(38, ListClassesComponent_button_38_Template, 3, 0, \"button\", 18);\n        i0.ɵɵpipe(39, \"async\");\n        i0.ɵɵtemplate(40, ListClassesComponent_button_40_Template, 3, 1, \"button\", 19);\n        i0.ɵɵpipe(41, \"async\");\n        i0.ɵɵpipe(42, \"async\");\n        i0.ɵɵtemplate(43, ListClassesComponent_app_speed_dial_fab_43_Template, 1, 2, \"app-speed-dial-fab\", 20);\n        i0.ɵɵpipe(44, \"async\");\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        let tmp_1_0;\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_4_0;\n        let tmp_5_0;\n        let tmp_6_0;\n        let tmp_7_0;\n        let tmp_8_0;\n        let tmp_14_0;\n        let tmp_16_0;\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(3, 17, ctx.selected$)) == null ? null : tmp_0_0.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"innerHTML\", ((tmp_1_0 = i0.ɵɵpipeBind1(5, 19, ctx.selected$)) == null ? null : tmp_1_0.length) ? (tmp_1_0 = i0.ɵɵpipeBind1(6, 21, ctx.selected$)) == null ? null : tmp_1_0.length : \"La m\\u00E9thode des J\", i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = i0.ɵɵpipeBind1(8, 23, ctx.selected$)) == null ? null : tmp_2_0.length));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = i0.ɵɵpipeBind1(11, 25, ctx.selected$)) == null ? null : tmp_3_0.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = i0.ɵɵpipeBind1(13, 27, ctx.selected$)) == null ? null : tmp_4_0.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = i0.ɵɵpipeBind1(15, 29, ctx.selected$)) == null ? null : tmp_5_0.length) === 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_6_0 = i0.ɵɵpipeBind1(17, 31, ctx.selected$)) == null ? null : tmp_6_0.length));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_7_0 = i0.ɵɵpipeBind1(19, 33, ctx.selected$)) == null ? null : tmp_7_0.length));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_8_0 = i0.ɵɵpipeBind1(21, 35, ctx.selected$)) == null ? null : tmp_8_0.length));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.fetching);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(31, 37, ctx.coursesFilter$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(34, 39, ctx.coursesFilter$).length <= 2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(36, 41, ctx.coursesFilter$).length > 2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.fetching);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (tmp_14_0 = i0.ɵɵpipeBind1(39, 43, ctx.notifications$)) == null ? null : tmp_14_0.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(41, 45, ctx.rush$) && !i0.ɵɵpipeBind1(42, 47, ctx.selectLoadingRush$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_16_0 = i0.ɵɵpipeBind1(44, 49, ctx.selected$)) == null ? null : tmp_16_0.length));\n      }\n    },\n    dependencies: [i6.RouterLink, i8.NgForOf, i8.NgIf, i9.MatBadge, i10.MatButton, i10.MatIconButton, i10.MatMiniFabButton, i11.MatCheckbox, i12.MatFormField, i12.MatLabel, i12.MatSuffix, i13.MatIcon, i14.MatInput, i15.MatSelectionList, i15.MatListOption, i16.MatMenu, i16.MatMenuItem, i16.MatMenuTrigger, i17.MatProgressSpinner, i18.MatToolbar, i19.SpeedDialFabComponent, i8.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#fff}[_nghost-%COMP%]   .all-checkbox-section[_ngcontent-%COMP%]{padding:0 8px 0 1rem}[_nghost-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100% - 160px)}[_nghost-%COMP%]   .input-search[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:0 1rem}[_nghost-%COMP%]   .input-search[_ngcontent-%COMP%]   .search-off-btn[_ngcontent-%COMP%]{cursor:pointer;color:#c2185b}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .version[_ngcontent-%COMP%]{margin-left:.825em;font-size:.625em}[_nghost-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .empty-section[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .illustration[_ngcontent-%COMP%]{display:block;height:200px}[_nghost-%COMP%]   .revision-day[_ngcontent-%COMP%]{font-size:.875em;color:#c2185b}[_nghost-%COMP%]   .revision-day.-is-already-revise[_ngcontent-%COMP%]{color:#00e676}[_nghost-%COMP%]   .fab-btn-daily-schedule[_ngcontent-%COMP%]{position:fixed;right:1.625em;bottom:6.125em}[_nghost-%COMP%]   .fab-btn-rush[_ngcontent-%COMP%]{position:fixed;bottom:1em;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .-blinking[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinkingBackground 1s infinite}@keyframes _ngcontent-%COMP%_blinkingBackground{0%{background-color:#c2185b}50%{background-color:#c46188}to{background-color:#c2185b}}\"]\n  });\n  return ListClassesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}